{"ast":null,"code":"'use strict';\n\nvar DIMENSION = 'd';\nvar AXIS = 'ax';\nvar VISIT = 'vv';\nvar FLIP = 'fp';\nvar ELEM_SIZE = 'es';\nvar RED_START = 'rs';\nvar RED_END = 're';\nvar RED_BOXES = 'rb';\nvar RED_INDEX = 'ri';\nvar RED_PTR = 'rp';\nvar BLUE_START = 'bs';\nvar BLUE_END = 'be';\nvar BLUE_BOXES = 'bb';\nvar BLUE_INDEX = 'bi';\nvar BLUE_PTR = 'bp';\nvar RETVAL = 'rv';\nvar INNER_LABEL = 'Q';\nvar ARGS = [DIMENSION, AXIS, VISIT, RED_START, RED_END, RED_BOXES, RED_INDEX, BLUE_START, BLUE_END, BLUE_BOXES, BLUE_INDEX];\n\nfunction generateBruteForce(redMajor, flip, full) {\n  var funcName = 'bruteForce' + (redMajor ? 'Red' : 'Blue') + (flip ? 'Flip' : '') + (full ? 'Full' : '');\n  var code = ['function ', funcName, '(', ARGS.join(), '){', 'var ', ELEM_SIZE, '=2*', DIMENSION, ';'];\n  var redLoop = 'for(var i=' + RED_START + ',' + RED_PTR + '=' + ELEM_SIZE + '*' + RED_START + ';' + 'i<' + RED_END + ';' + '++i,' + RED_PTR + '+=' + ELEM_SIZE + '){' + 'var x0=' + RED_BOXES + '[' + AXIS + '+' + RED_PTR + '],' + 'x1=' + RED_BOXES + '[' + AXIS + '+' + RED_PTR + '+' + DIMENSION + '],' + 'xi=' + RED_INDEX + '[i];';\n  var blueLoop = 'for(var j=' + BLUE_START + ',' + BLUE_PTR + '=' + ELEM_SIZE + '*' + BLUE_START + ';' + 'j<' + BLUE_END + ';' + '++j,' + BLUE_PTR + '+=' + ELEM_SIZE + '){' + 'var y0=' + BLUE_BOXES + '[' + AXIS + '+' + BLUE_PTR + '],' + (full ? 'y1=' + BLUE_BOXES + '[' + AXIS + '+' + BLUE_PTR + '+' + DIMENSION + '],' : '') + 'yi=' + BLUE_INDEX + '[j];';\n\n  if (redMajor) {\n    code.push(redLoop, INNER_LABEL, ':', blueLoop);\n  } else {\n    code.push(blueLoop, INNER_LABEL, ':', redLoop);\n  }\n\n  if (full) {\n    code.push('if(y1<x0||x1<y0)continue;');\n  } else if (flip) {\n    code.push('if(y0<=x0||x1<y0)continue;');\n  } else {\n    code.push('if(y0<x0||x1<y0)continue;');\n  }\n\n  code.push('for(var k=' + AXIS + '+1;k<' + DIMENSION + ';++k){' + 'var r0=' + RED_BOXES + '[k+' + RED_PTR + '],' + 'r1=' + RED_BOXES + '[k+' + DIMENSION + '+' + RED_PTR + '],' + 'b0=' + BLUE_BOXES + '[k+' + BLUE_PTR + '],' + 'b1=' + BLUE_BOXES + '[k+' + DIMENSION + '+' + BLUE_PTR + '];' + 'if(r1<b0||b1<r0)continue ' + INNER_LABEL + ';}' + 'var ' + RETVAL + '=' + VISIT + '(');\n\n  if (flip) {\n    code.push('yi,xi');\n  } else {\n    code.push('xi,yi');\n  }\n\n  code.push(');if(' + RETVAL + '!==void 0)return ' + RETVAL + ';}}}');\n  return {\n    name: funcName,\n    code: code.join('')\n  };\n}\n\nfunction bruteForcePlanner(full) {\n  var funcName = 'bruteForce' + (full ? 'Full' : 'Partial');\n  var prefix = [];\n  var fargs = ARGS.slice();\n\n  if (!full) {\n    fargs.splice(3, 0, FLIP);\n  }\n\n  var code = ['function ' + funcName + '(' + fargs.join() + '){'];\n\n  function invoke(redMajor, flip) {\n    var res = generateBruteForce(redMajor, flip, full);\n    prefix.push(res.code);\n    code.push('return ' + res.name + '(' + ARGS.join() + ');');\n  }\n\n  code.push('if(' + RED_END + '-' + RED_START + '>' + BLUE_END + '-' + BLUE_START + '){');\n\n  if (full) {\n    invoke(true, false);\n    code.push('}else{');\n    invoke(false, false);\n  } else {\n    code.push('if(' + FLIP + '){');\n    invoke(true, true);\n    code.push('}else{');\n    invoke(true, false);\n    code.push('}}else{if(' + FLIP + '){');\n    invoke(false, true);\n    code.push('}else{');\n    invoke(false, false);\n    code.push('}');\n  }\n\n  code.push('}}return ' + funcName);\n  var codeStr = prefix.join('') + code.join('');\n  var proc = new Function(codeStr);\n  return proc();\n}\n\nexports.partial = bruteForcePlanner(false);\nexports.full = bruteForcePlanner(true);","map":{"version":3,"sources":["/Users/caseyrudick/Documents/landsharkrefactored-copy/client/node_modules/box-intersect/lib/brute.js"],"names":["DIMENSION","AXIS","VISIT","FLIP","ELEM_SIZE","RED_START","RED_END","RED_BOXES","RED_INDEX","RED_PTR","BLUE_START","BLUE_END","BLUE_BOXES","BLUE_INDEX","BLUE_PTR","RETVAL","INNER_LABEL","ARGS","generateBruteForce","redMajor","flip","full","funcName","code","join","redLoop","blueLoop","push","name","bruteForcePlanner","prefix","fargs","slice","splice","invoke","res","codeStr","proc","Function","exports","partial"],"mappings":"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","sourcesContent":["'use strict'\n\nvar DIMENSION   = 'd'\nvar AXIS        = 'ax'\nvar VISIT       = 'vv'\nvar FLIP        = 'fp'\n\nvar ELEM_SIZE   = 'es'\n\nvar RED_START   = 'rs'\nvar RED_END     = 're'\nvar RED_BOXES   = 'rb'\nvar RED_INDEX   = 'ri'\nvar RED_PTR     = 'rp'\n\nvar BLUE_START  = 'bs'\nvar BLUE_END    = 'be'\nvar BLUE_BOXES  = 'bb'\nvar BLUE_INDEX  = 'bi'\nvar BLUE_PTR    = 'bp'\n\nvar RETVAL      = 'rv'\n\nvar INNER_LABEL = 'Q'\n\nvar ARGS = [\n  DIMENSION,\n  AXIS,\n  VISIT,\n  RED_START,\n  RED_END,\n  RED_BOXES,\n  RED_INDEX,\n  BLUE_START,\n  BLUE_END,\n  BLUE_BOXES,\n  BLUE_INDEX\n]\n\nfunction generateBruteForce(redMajor, flip, full) {\n  var funcName = 'bruteForce' + \n    (redMajor ? 'Red' : 'Blue') + \n    (flip ? 'Flip' : '') +\n    (full ? 'Full' : '')\n\n  var code = ['function ', funcName, '(', ARGS.join(), '){',\n    'var ', ELEM_SIZE, '=2*', DIMENSION, ';']\n\n  var redLoop = \n    'for(var i=' + RED_START + ',' + RED_PTR + '=' + ELEM_SIZE + '*' + RED_START + ';' +\n        'i<' + RED_END +';' +\n        '++i,' + RED_PTR + '+=' + ELEM_SIZE + '){' +\n        'var x0=' + RED_BOXES + '[' + AXIS + '+' + RED_PTR + '],' +\n            'x1=' + RED_BOXES + '[' + AXIS + '+' + RED_PTR + '+' + DIMENSION + '],' +\n            'xi=' + RED_INDEX + '[i];'\n\n  var blueLoop = \n    'for(var j=' + BLUE_START + ',' + BLUE_PTR + '=' + ELEM_SIZE + '*' + BLUE_START + ';' +\n        'j<' + BLUE_END + ';' +\n        '++j,' + BLUE_PTR + '+=' + ELEM_SIZE + '){' +\n        'var y0=' + BLUE_BOXES + '[' + AXIS + '+' + BLUE_PTR + '],' +\n            (full ? 'y1=' + BLUE_BOXES + '[' + AXIS + '+' + BLUE_PTR + '+' + DIMENSION + '],' : '') +\n            'yi=' + BLUE_INDEX + '[j];'\n\n  if(redMajor) {\n    code.push(redLoop, INNER_LABEL, ':', blueLoop)\n  } else {\n    code.push(blueLoop, INNER_LABEL, ':', redLoop)\n  }\n\n  if(full) {\n    code.push('if(y1<x0||x1<y0)continue;')\n  } else if(flip) {\n    code.push('if(y0<=x0||x1<y0)continue;')\n  } else {\n    code.push('if(y0<x0||x1<y0)continue;')\n  }\n\n  code.push('for(var k='+AXIS+'+1;k<'+DIMENSION+';++k){'+\n    'var r0='+RED_BOXES+'[k+'+RED_PTR+'],'+\n        'r1='+RED_BOXES+'[k+'+DIMENSION+'+'+RED_PTR+'],'+\n        'b0='+BLUE_BOXES+'[k+'+BLUE_PTR+'],'+\n        'b1='+BLUE_BOXES+'[k+'+DIMENSION+'+'+BLUE_PTR+'];'+\n      'if(r1<b0||b1<r0)continue ' + INNER_LABEL + ';}' +\n      'var ' + RETVAL + '=' + VISIT + '(')\n\n  if(flip) {\n    code.push('yi,xi')\n  } else {\n    code.push('xi,yi')\n  }\n\n  code.push(');if(' + RETVAL + '!==void 0)return ' + RETVAL + ';}}}')\n\n  return {\n    name: funcName, \n    code: code.join('')\n  }\n}\n\nfunction bruteForcePlanner(full) {\n  var funcName = 'bruteForce' + (full ? 'Full' : 'Partial')\n  var prefix = []\n  var fargs = ARGS.slice()\n  if(!full) {\n    fargs.splice(3, 0, FLIP)\n  }\n\n  var code = ['function ' + funcName + '(' + fargs.join() + '){']\n\n  function invoke(redMajor, flip) {\n    var res = generateBruteForce(redMajor, flip, full)\n    prefix.push(res.code)\n    code.push('return ' + res.name + '(' + ARGS.join() + ');')\n  }\n\n  code.push('if(' + RED_END + '-' + RED_START + '>' +\n                    BLUE_END + '-' + BLUE_START + '){')\n\n  if(full) {\n    invoke(true, false)\n    code.push('}else{')\n    invoke(false, false)\n  } else {\n    code.push('if(' + FLIP + '){')\n    invoke(true, true)\n    code.push('}else{')\n    invoke(true, false)\n    code.push('}}else{if(' + FLIP + '){')\n    invoke(false, true)\n    code.push('}else{')\n    invoke(false, false)\n    code.push('}')\n  }\n  code.push('}}return ' + funcName)\n\n  var codeStr = prefix.join('') + code.join('')\n  var proc = new Function(codeStr)\n  return proc()\n}\n\n\nexports.partial = bruteForcePlanner(false)\nexports.full    = bruteForcePlanner(true)"]},"metadata":{},"sourceType":"script"}