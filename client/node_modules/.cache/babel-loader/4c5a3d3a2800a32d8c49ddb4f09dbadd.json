{"ast":null,"code":"import _slicedToArray from\"/Users/caseyrudick/Documents/Work/landsharkfinal/landSharkRefactored/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useState}from'react';import Container from'react-bootstrap/Container';import Row from'react-bootstrap/Row';import Col from'react-bootstrap/Col';import Button from'react-bootstrap/Button';import Form from'react-bootstrap/Form';import Jumbotron from'react-bootstrap/Jumbotron';// AWS Cognito\nimport UserPool from\"./UserPool\";import{AuthenticationDetails,CognitoUser}from'amazon-cognito-identity-js';//redux & router\nimport{connect}from\"react-redux\";import{Link}from\"react-router-dom\";var SignUp=function SignUp(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),userSubmittedCredentials=_useState6[0],setSubmittedCreds=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),verificationCode=_useState8[0],setVerificationCode=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),verficationSuccess=_useState10[0],setVerificationSucess=_useState10[1];var submitNewUser=function submitNewUser(event){event.preventDefault();UserPool.signUp(email,password,[],null,function(err,data){if(err){console.log(err);}else{console.log(data);setSubmittedCreds(true);}});};var renderSignUp=function renderSignUp(){return/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsx(Row,{className:\"justify-content-md-center\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"Sign Up\"})}),/*#__PURE__*/_jsx(Form.Group,{children:/*#__PURE__*/_jsx(Form.Control,{placeholder:\"Enter Email\",onChange:function onChange(event){return setEmail(event.target.value);}})}),/*#__PURE__*/_jsx(Form.Group,{children:/*#__PURE__*/_jsx(Form.Control,{placeholder:\"Create Password\",onChange:function onChange(event){return setPassword(event.target.value);}})}),/*#__PURE__*/_jsxs(Row,{style:{alignItems:\"baseline\"},children:[/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Button,{variant:\"info\",disabled:email===\"\"&&password===\"\"&&userSubmittedCredentials===false?true:false,onClick:function onClick(e){return submitNewUser(e);},children:\"Submit\"})}),/*#__PURE__*/_jsx(Col,{className:\"text-right\",children:/*#__PURE__*/_jsx(Link,{to:\"/signin\",className:\"item\",children:\"Already have an account?\"})})]})]});};var verifyConfirmationCode=function verifyConfirmationCode(event){event.preventDefault();var userData={Username:email,Pool:UserPool};console.log(verificationCode);var congitoUser=new CognitoUser(userData);congitoUser.confirmRegistration(verificationCode,true,function(err,result){if(err){console.log(err);}else{console.log(result);setVerificationSucess(true);}});};var renderCodeResponse=function renderCodeResponse(){return/*#__PURE__*/_jsx(\"div\",{children:\"Registration Sucessful\"});};var renderConfirmationCodeForm=function renderConfirmationCodeForm(){return/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Row,{className:\"justify-content-md-center\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"mt-4\",children:\"Confirmation Code\"})}),/*#__PURE__*/_jsx(Form.Control,{className:\"mt-3\",placeholder:\"Enter Verification Code\",onChange:function onChange(event){return setVerificationCode(event.target.value);}}),/*#__PURE__*/_jsx(Button,{className:\"mt-4\",variant:\"primary\",disabled:verificationCode===\"\"?true:false,onClick:function onClick(event){return verifyConfirmationCode(event);},children:\"Submit\"})]});};return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(Jumbotron,{fluid:true,className:\"bg-dark text-white\",children:/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(\"h1\",{children:\"LandShark App (Employee Portal)\"})})}),/*#__PURE__*/_jsx(Form,{children:/*#__PURE__*/_jsxs(Row,{className:\"justify-content-center align-self-center\",children:[/*#__PURE__*/_jsx(Col,{md:\"auto\"}),/*#__PURE__*/_jsxs(Col,{md:3,children:[renderSignUp(),userSubmittedCredentials?renderConfirmationCodeForm():null,verficationSuccess?\"Registration Successful\":\"\"]}),/*#__PURE__*/_jsx(Col,{md:\"auto\"})]})})]});};export default SignUp;","map":{"version":3,"sources":["/Users/caseyrudick/Documents/Work/landsharkfinal/landSharkRefactored/client/src/Components/UserVerification/SignUp.js"],"names":["React","useState","Container","Row","Col","Button","Form","Jumbotron","UserPool","AuthenticationDetails","CognitoUser","connect","Link","SignUp","email","setEmail","password","setPassword","userSubmittedCredentials","setSubmittedCreds","verificationCode","setVerificationCode","verficationSuccess","setVerificationSucess","submitNewUser","event","preventDefault","signUp","err","data","console","log","renderSignUp","target","value","alignItems","e","verifyConfirmationCode","userData","Username","Pool","congitoUser","confirmRegistration","result","renderCodeResponse","renderConfirmationCodeForm"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Button from 'react-bootstrap/Button';\nimport Form from 'react-bootstrap/Form';\nimport Jumbotron from 'react-bootstrap/Jumbotron';\n// AWS Cognito\nimport UserPool from \"./UserPool\"\nimport { AuthenticationDetails, CognitoUser } from 'amazon-cognito-identity-js';\n//redux & router\nimport { connect } from \"react-redux\"\nimport { Link } from \"react-router-dom\"\n\nconst SignUp = () => {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [userSubmittedCredentials, setSubmittedCreds] = useState(false)\n  const [verificationCode, setVerificationCode] = useState(null)\n  const [verficationSuccess, setVerificationSucess] = useState(false)\n\n\n  const submitNewUser = event => {\n    event.preventDefault();\n    UserPool.signUp(email, password, [], null, (err, data) => {\n      if (err) {\n        console.log(err)\n      } else {\n        console.log(data)\n        setSubmittedCreds(true)\n      }\n    })\n  }\n\n  const renderSignUp = () => {\n    return (\n        <Col>\n          <Row className=\"justify-content-md-center\">\n            <h3>Sign Up</h3>\n          </Row>\n          <Form.Group>\n            <Form.Control placeholder=\"Enter Email\" onChange={event => setEmail(event.target.value)} />\n          </Form.Group>\n          <Form.Group>\n            <Form.Control placeholder=\"Create Password\" onChange={event => setPassword(event.target.value)} />\n          </Form.Group>\n          <Row style={{alignItems: \"baseline\"}}>\n            <Col>\n              <Button variant=\"info\" disabled={ email === \"\" && password === \"\" && userSubmittedCredentials === false ? true : false } onClick={(e)=>submitNewUser(e)}>Submit</Button>\n            </Col>\n            <Col className=\"text-right\">\n              <Link to=\"/signin\" className=\"item\">\n                Already have an account?\n              </Link>\n            </Col>\n          </Row>\n        </Col>\n    )\n  }\n\n  const verifyConfirmationCode = event => {\n    event.preventDefault()\n    const userData = {\n      Username: email,\n      Pool: UserPool\n    }\n    console.log(verificationCode)\n    const congitoUser = new CognitoUser(userData);\n    congitoUser.confirmRegistration(verificationCode, true, (err, result) => {\n      if (err) {\n        console.log(err)\n      } else {\n        console.log(result)\n        setVerificationSucess(true)\n      }\n    })\n  }\n\n  const renderCodeResponse = () => {\n    return (\n      <div>\n        Registration Sucessful\n      </div>\n    )\n  }\n\n  const renderConfirmationCodeForm = () => {\n     return (\n        <Form.Group>\n          <Row className=\"justify-content-md-center\">\n            <h3 className=\"mt-4\">Confirmation Code</h3>\n          </Row>\n          <Form.Control className=\"mt-3\" placeholder=\"Enter Verification Code\" onChange={event => setVerificationCode(event.target.value)} />\n          <Button className=\"mt-4\" variant=\"primary\" disabled={ verificationCode === \"\" ? true : false } onClick={(event) => verifyConfirmationCode(event)}>Submit</Button>\n        </Form.Group>\n     )\n  }\n\n  return (\n    <React.Fragment>\n      <Jumbotron fluid className=\"bg-dark text-white\">\n        <Container>\n          <h1>LandShark App (Employee Portal)</h1>\n        </Container>\n      </Jumbotron>\n      <Form>\n        <Row className=\"justify-content-center align-self-center\">\n            <Col md=\"auto\"/>\n            <Col md={3}>\n              {renderSignUp()}\n              {userSubmittedCredentials ? renderConfirmationCodeForm() : null }\n              {verficationSuccess ? \"Registration Successful\" : \"\"}\n            </Col>\n            <Col md=\"auto\"></Col>\n          </Row>\n      </Form>\n    </React.Fragment>\n  )\n}\n\nexport default SignUp"]},"metadata":{},"sourceType":"module"}