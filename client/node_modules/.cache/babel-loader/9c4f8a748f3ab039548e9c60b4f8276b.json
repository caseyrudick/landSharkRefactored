{"ast":null,"code":"/**\n* Copyright 2012-2020, Plotly, Inc.\n* All rights reserved.\n*\n* This source code is licensed under the MIT license found in the\n* LICENSE file in the root directory of this source tree.\n*/\n'use strict';\n\nvar Lib = require('../lib');\n\nvar helpers = require('./helpers');\n/*\n* substantial portions of this code from FileSaver.js\n* https://github.com/eligrey/FileSaver.js\n* License: https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md\n* FileSaver.js\n* A saveAs() FileSaver implementation.\n* 1.1.20160328\n*\n* By Eli Grey, http://eligrey.com\n* License: MIT\n*   See https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md\n*/\n\n\nfunction fileSaver(url, name, format) {\n  var saveLink = document.createElement('a');\n  var canUseSaveLink = ('download' in saveLink);\n  var promise = new Promise(function (resolve, reject) {\n    var blob;\n    var objectUrl;\n\n    if (Lib.isIE9orBelow()) {\n      reject(new Error('IE < 10 unsupported'));\n    } // Safari doesn't allow downloading of blob urls\n\n\n    if (Lib.isSafari()) {\n      var prefix = format === 'svg' ? ',' : ';base64,';\n      helpers.octetStream(prefix + encodeURIComponent(url));\n      return resolve(name);\n    } // IE 10+ (native saveAs)\n\n\n    if (Lib.isIE()) {\n      // At this point we are only dealing with a decoded SVG as\n      // a data URL (since IE only supports SVG)\n      blob = helpers.createBlob(url, 'svg');\n      window.navigator.msSaveBlob(blob, name);\n      blob = null;\n      return resolve(name);\n    }\n\n    if (canUseSaveLink) {\n      blob = helpers.createBlob(url, format);\n      objectUrl = helpers.createObjectURL(blob);\n      saveLink.href = objectUrl;\n      saveLink.download = name;\n      document.body.appendChild(saveLink);\n      saveLink.click();\n      document.body.removeChild(saveLink);\n      helpers.revokeObjectURL(objectUrl);\n      blob = null;\n      return resolve(name);\n    }\n\n    reject(new Error('download error'));\n  });\n  return promise;\n}\n\nmodule.exports = fileSaver;","map":{"version":3,"sources":["/Users/caseyrudick/Documents/landsharkrefactored-copy/client/node_modules/plotly.js/src/snapshot/filesaver.js"],"names":["Lib","require","helpers","fileSaver","url","name","format","saveLink","document","createElement","canUseSaveLink","promise","Promise","resolve","reject","blob","objectUrl","isIE9orBelow","Error","isSafari","prefix","octetStream","encodeURIComponent","isIE","createBlob","window","navigator","msSaveBlob","createObjectURL","href","download","body","appendChild","click","removeChild","revokeObjectURL","module","exports"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AAEA,IAAIA,GAAG,GAAGC,OAAO,CAAC,QAAD,CAAjB;;AACA,IAAIC,OAAO,GAAGD,OAAO,CAAC,WAAD,CAArB;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAASE,SAAT,CAAmBC,GAAnB,EAAwBC,IAAxB,EAA8BC,MAA9B,EAAsC;AAClC,MAAIC,QAAQ,GAAGC,QAAQ,CAACC,aAAT,CAAuB,GAAvB,CAAf;AACA,MAAIC,cAAc,IAAG,cAAcH,QAAjB,CAAlB;AAEA,MAAII,OAAO,GAAG,IAAIC,OAAJ,CAAY,UAASC,OAAT,EAAkBC,MAAlB,EAA0B;AAChD,QAAIC,IAAJ;AACA,QAAIC,SAAJ;;AAEA,QAAGhB,GAAG,CAACiB,YAAJ,EAAH,EAAuB;AACnBH,MAAAA,MAAM,CAAC,IAAII,KAAJ,CAAU,qBAAV,CAAD,CAAN;AACH,KAN+C,CAQhD;;;AACA,QAAGlB,GAAG,CAACmB,QAAJ,EAAH,EAAmB;AACf,UAAIC,MAAM,GAAGd,MAAM,KAAK,KAAX,GAAmB,GAAnB,GAAyB,UAAtC;AACAJ,MAAAA,OAAO,CAACmB,WAAR,CAAoBD,MAAM,GAAGE,kBAAkB,CAAClB,GAAD,CAA/C;AACA,aAAOS,OAAO,CAACR,IAAD,CAAd;AACH,KAb+C,CAehD;;;AACA,QAAGL,GAAG,CAACuB,IAAJ,EAAH,EAAe;AACX;AACA;AACAR,MAAAA,IAAI,GAAGb,OAAO,CAACsB,UAAR,CAAmBpB,GAAnB,EAAwB,KAAxB,CAAP;AACAqB,MAAAA,MAAM,CAACC,SAAP,CAAiBC,UAAjB,CAA4BZ,IAA5B,EAAkCV,IAAlC;AACAU,MAAAA,IAAI,GAAG,IAAP;AACA,aAAOF,OAAO,CAACR,IAAD,CAAd;AACH;;AAED,QAAGK,cAAH,EAAmB;AACfK,MAAAA,IAAI,GAAGb,OAAO,CAACsB,UAAR,CAAmBpB,GAAnB,EAAwBE,MAAxB,CAAP;AACAU,MAAAA,SAAS,GAAGd,OAAO,CAAC0B,eAAR,CAAwBb,IAAxB,CAAZ;AAEAR,MAAAA,QAAQ,CAACsB,IAAT,GAAgBb,SAAhB;AACAT,MAAAA,QAAQ,CAACuB,QAAT,GAAoBzB,IAApB;AACAG,MAAAA,QAAQ,CAACuB,IAAT,CAAcC,WAAd,CAA0BzB,QAA1B;AACAA,MAAAA,QAAQ,CAAC0B,KAAT;AAEAzB,MAAAA,QAAQ,CAACuB,IAAT,CAAcG,WAAd,CAA0B3B,QAA1B;AACAL,MAAAA,OAAO,CAACiC,eAAR,CAAwBnB,SAAxB;AACAD,MAAAA,IAAI,GAAG,IAAP;AAEA,aAAOF,OAAO,CAACR,IAAD,CAAd;AACH;;AAEDS,IAAAA,MAAM,CAAC,IAAII,KAAJ,CAAU,gBAAV,CAAD,CAAN;AACH,GA1Ca,CAAd;AA4CA,SAAOP,OAAP;AACH;;AAGDyB,MAAM,CAACC,OAAP,GAAiBlC,SAAjB","sourcesContent":["/**\n* Copyright 2012-2020, Plotly, Inc.\n* All rights reserved.\n*\n* This source code is licensed under the MIT license found in the\n* LICENSE file in the root directory of this source tree.\n*/\n\n'use strict';\n\nvar Lib = require('../lib');\nvar helpers = require('./helpers');\n\n/*\n* substantial portions of this code from FileSaver.js\n* https://github.com/eligrey/FileSaver.js\n* License: https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md\n* FileSaver.js\n* A saveAs() FileSaver implementation.\n* 1.1.20160328\n*\n* By Eli Grey, http://eligrey.com\n* License: MIT\n*   See https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md\n*/\nfunction fileSaver(url, name, format) {\n    var saveLink = document.createElement('a');\n    var canUseSaveLink = 'download' in saveLink;\n\n    var promise = new Promise(function(resolve, reject) {\n        var blob;\n        var objectUrl;\n\n        if(Lib.isIE9orBelow()) {\n            reject(new Error('IE < 10 unsupported'));\n        }\n\n        // Safari doesn't allow downloading of blob urls\n        if(Lib.isSafari()) {\n            var prefix = format === 'svg' ? ',' : ';base64,';\n            helpers.octetStream(prefix + encodeURIComponent(url));\n            return resolve(name);\n        }\n\n        // IE 10+ (native saveAs)\n        if(Lib.isIE()) {\n            // At this point we are only dealing with a decoded SVG as\n            // a data URL (since IE only supports SVG)\n            blob = helpers.createBlob(url, 'svg');\n            window.navigator.msSaveBlob(blob, name);\n            blob = null;\n            return resolve(name);\n        }\n\n        if(canUseSaveLink) {\n            blob = helpers.createBlob(url, format);\n            objectUrl = helpers.createObjectURL(blob);\n\n            saveLink.href = objectUrl;\n            saveLink.download = name;\n            document.body.appendChild(saveLink);\n            saveLink.click();\n\n            document.body.removeChild(saveLink);\n            helpers.revokeObjectURL(objectUrl);\n            blob = null;\n\n            return resolve(name);\n        }\n\n        reject(new Error('download error'));\n    });\n\n    return promise;\n}\n\n\nmodule.exports = fileSaver;\n"]},"metadata":{},"sourceType":"script"}